(this.webpackJsonpzoom=this.webpackJsonpzoom||[]).push([[0],{43:function(e,t,n){},44:function(e,t,n){},72:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),o=n(3),r=n.n(o),i=(n(43),n(2)),u=(n(44),n(18)),l=n.n(u),s=n(35),m=n.n(s),h=(n(70),n(71),n(38)),d=n(6),y=function(e){e.temp;var t=e.children,n=(e.mouseEvent,Object(h.a)(e,["temp","children","mouseEvent"])),o=Object(d.pick)(n,["style","className","onMouseDown","onMouseUp","onTouchEnd","onTouchStart"]),r=Object(a.useRef)();return c.a.createElement("div",Object.assign({ref:r},o),t)},f=n(4),w=n(37),b=function(e,t){switch(t.type){case"addTemp":if(-1!==e.findIndex((function(e){return e.temp})))return e;var n=e.reduce((function(e,t){return t.x+t.h>e?t.x+t.h:e}),0),a=e.reduce((function(e,t){return t.y+t.w>e?t.y+t.w:e}),0);return[].concat(Object(w.a)(e),[{x:n+1,y:a+1,h:t.h?t.h:1,w:t.w?t.w:1,content:t.content?t.content:String.fromCharCode(65+e.length),temp:!0,mouseEvent:t.mouseEvent,i:""+e.length}]);case"clearTemp":return e.filter((function(e){return!e.temp}));case"finaliseTemporaryItem":return e.map((function(e){return Object(f.a)(Object(f.a)({},e),{},{temp:!1})}));case"newLayout":if(-1!==e.findIndex((function(e){return e.temp})))return e;var c=Object(d.merge)(Object(d.keyBy)(e,"i"),Object(d.keyBy)(t.layout,"i"));return Object.values(c);default:return e}},p=[{i:"0",x:0,y:0,w:1,h:2,content:"A"},{i:"1",x:1,y:0,w:3,h:2,minW:2,maxW:4,content:"B"},{i:"2",x:4,y:0,w:1,h:2,content:"C"},{i:"3",x:5,y:0,w:1,h:2,content:"D"},{i:"4",x:0,y:2,w:2,h:2,content:"E"},{i:"5",x:2,y:2,w:3,h:2,content:"F"},{i:"6",x:5,y:2,w:1,h:2,content:"G"},{i:"7",x:0,y:4,w:6,h:2,content:"H"},{i:"8",x:0,y:6,w:1,h:2,content:"I"},{i:"9",x:2,y:6,w:1,h:2,content:"J"},{i:"10",x:4,y:6,w:1,h:2,content:"K"},{i:"11",x:5,y:6,w:1,h:2,content:"L"},{i:"12",x:0,y:8,w:3,h:1,content:"M"},{i:"13",x:3,y:8,w:3,h:1,content:"N"},{i:"14",x:1,y:9,w:2,h:2,content:"O"},{i:"15",x:3,y:9,w:3,h:2,content:"P"},{i:"16",x:0,y:11,w:3,h:3,content:"Q"},{i:"17",x:3,y:11,w:3,h:3,content:"R"},{i:"18",x:0,y:14,w:2,h:3,content:"S"},{i:"19",x:2,y:14,w:2,h:3,content:"T"},{i:"20",x:4,y:14,w:2,h:3,content:"U"},{i:"21",x:0,y:17,w:3,h:3,content:"V"},{i:"22",x:3,y:17,w:3,h:3,content:"W"},{i:"23",x:0,y:20,w:4,h:2,content:"X"},{i:"24",x:4,y:20,w:2,h:2,content:"Y"},{i:"25",x:0,y:22,w:2,h:2,content:"Z"},{i:"26",x:2,y:22,w:4,h:5,content:"AA"},{i:"27",x:0,y:24,w:2,h:3,content:"BB"},{i:"28",x:0,y:27,w:5,h:5,content:"CC"},{i:"29",x:5,y:27,w:1,h:10,content:"DD"},{i:"30",x:0,y:32,w:5,h:12,content:"EE"}],x=n(17),v=n.n(x),E=n(36),O=n.n(E),j={title:{text:"My chart"},series:[{data:function(){for(var e=[],t=0;t<100;t++)e.push(10*Math.random());return e}()}]},g=function(e){var t=e.type,n=void 0===t?"line":t,a=e.height,o=void 0===a?470:a,r=c.a.useMemo((function(){return Object(f.a)(Object(f.a)({},j),{},{series:[Object(f.a)(Object(f.a)({},j.series[0]),{},{type:n})],chart:{height:o}})}),[n,o]);return c.a.createElement("div",null,c.a.createElement(O.a,{highcharts:v.a,options:r,height:190}))},C=function(e){var t=Object(a.useRef)(),n=Object(a.useState)(!1),o=Object(i.a)(n,2),r=o[0],u=o[1],l=Object(a.useReducer)(b,p),s=Object(i.a)(l,2),h=s[0],d=s[1];return c.a.createElement("div",{className:r?"adding":void 0,style:{cursor:r?"crosshair":void 0}},c.a.createElement("div",{ref:t},c.a.createElement(m.a,{className:"layout",layout:h,onLayoutChange:function(e){return d({type:"newLayout",layout:e})},cols:6,rowHeight:30,width:e.width,transformScale:e.zoom},h.map((function(t){return c.a.createElement(y,Object.assign({key:""+t.i,style:{border:"1px solid red"}},t),t.content,1===parseFloat(t.i)&&c.a.createElement("button",{style:{border:"1px solid blue",display:"block",cursor:"pointer"},onClick:e.onClick},"open modal"),"EE"===t.content&&c.a.createElement(g,null),"AA"===t.content&&c.a.createElement(g,{type:"column",height:170}),"DD"===t.content&&c.a.createElement(g,{type:"spline",height:310}),c.a.createElement("div",{className:"indicator",onClick:function(){if(r){u(!1);var e=h.concat();e.push({i:e.length.toString(),x:t.x,y:t.y+1,w:1,h:1,content:"N"}),d({type:"newLayout",layout:e})}}}))})))))};l.a.setAppElement("#modal");var k={landscape:{1700:{margins:80}},portrait:{1300:{margins:80}}};function N(){var e=Object(a.useState)(1),t=Object(i.a)(e,2),n=t[0],o=t[1],r=Object(a.useState)(!1),u=Object(i.a)(r,2),s=u[0],m=u[1],h=Object(a.useState)(0),d=Object(i.a)(h,2),y=d[0],f=d[1],w=Object(a.useState)(window.innerWidth),b=Object(i.a)(w,2),p=b[0],x=b[1],v=Object(a.useState)("landscape"),E=Object(i.a)(v,2),O=E[0],j=E[1],g=Object(a.useState)(!0),N=Object(i.a)(g,2),S=N[0],F=N[1],L=Object(a.useRef)(null),M=Object(a.useMemo)((function(){return"landscape"===O?1620:1220}),[O]),A=function(e){e.ctrlKey&&(e.preventDefault(),o((function(t){return Math.max(t-parseFloat((.01*e.deltaY).toFixed(2)),.25)})))};Object(a.useEffect)((function(){return window.addEventListener("wheel",A,{passive:!1}),function(){return window.removeEventListener("wheel",A,{passive:!1})}}),[]);var B=Object(a.useCallback)((function(e){var t;x(e);var n=k[O],a=Object.keys(n).find((function(t){return t>=e})),c=1;(null===(t=n[a])||void 0===t?void 0:t.margins)&&(c=(e-n[a].margins)/M),o(c)}),[O,M]),z=Object(a.useCallback)((function(e){S&&B(e.target.innerWidth)}),[B,S]);Object(a.useEffect)((function(){return window.addEventListener("resize",z),function(){return window.removeEventListener("resize",z)}}),[z]),Object(a.useEffect)((function(){L.current&&f(L.current.getBoundingClientRect().height)}),[]),Object(a.useEffect)((function(){B(window.innerWidth)}),[B]);return c.a.createElement("div",{className:"App"},c.a.createElement("div",{className:"header",style:{width:n<1?p:p*n}},c.a.createElement("div",null,"Zoom"),c.a.createElement("div",{className:"btnContainer"},c.a.createElement("div",{className:"zoomToggle"},c.a.createElement("button",{onClick:function(){F(!1),o((function(e){return Math.max(parseFloat((e-.25).toFixed(2)),.25)}))}},"-"),c.a.createElement("input",{value:parseFloat((100*n).toFixed(2)),onChange:function(e){var t=e.target.value;t/=100,o(Math.max(parseFloat(t.toFixed(2)),0))}}),c.a.createElement("button",{onClick:function(){F(!1),o((function(e){return parseFloat((e+.25).toFixed(2))}))}},"+")),c.a.createElement("button",{className:"".concat(S?"btn active":"btn"),onClick:function(){F(!0),B(p)}},"Fit to window"),c.a.createElement("button",{className:"".concat("portrait"===O?"btn active":"btn"),onClick:function(){return j("portrait")}},"Set Portrait"),c.a.createElement("button",{className:"".concat("landscape"===O?"btn active":"btn"),onClick:function(){return j("landscape")}},"Set Landscape"))),c.a.createElement("div",{className:"container",style:{margin:"100px auto 0",width:M*n,height:y*n}},c.a.createElement("div",{ref:L,style:{transform:"scale(".concat(n,", ").concat(n,")"),transformOrigin:"0 0 0",width:M,touchAction:"pan-x pan-y"}},c.a.createElement(C,{zoom:n,onClick:function(){return m(!0)},width:"landscape"===O?1620:1220})),c.a.createElement(l.a,{isOpen:s,onRequestClose:function(){return m(!1)},style:{content:{width:500,margin:"100px auto"}}},c.a.createElement("h1",null,"Best modal ever"),c.a.createElement("button",{style:{border:"1px solid blue",display:"block",cursor:"pointer"},onClick:function(){return m(!1)}},"Close me"))))}r.a.render(c.a.createElement(N,null),document.getElementById("root"))}},[[72,1,2]]]);
//# sourceMappingURL=main.c4f4ce8b.chunk.js.map